# ๐ ุฏููู ุงูุงุชุตุงู ุจู Backend

## ูุชุทูุจุงุช ุงูุฎุงุฏู ุงูุฎููู

ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ุงูุฎููู ููุฏู ุงูู endpoints ุงูุชุงููุฉ:

### 1. **Products API** ๐ฆ

| Method | Endpoint                       | ุงููุตู                        |
| ------ | ------------------------------ | ---------------------------- |
| GET    | `/products`                    | ุงูุญุตูู ุนูู ุฌููุน ุงูููุชุฌุงุช     |
| GET    | `/products/:id`                | ุงูุญุตูู ุนูู ููุชุฌ ูุญุฏุฏ         |
| POST   | `/products`                    | ุฅูุดุงุก ููุชุฌ ุฌุฏูุฏ              |
| PUT    | `/products/:id`                | ุชุญุฏูุซ ููุชุฌ                   |
| DELETE | `/products/:id`                | ุญุฐู ููุชุฌ                     |
| GET    | `/products/category/:category` | ุงูุญุตูู ุนูู ููุชุฌุงุช ุจูุฆุฉ ูุญุฏุฏุฉ |

**ุตูุบุฉ ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "name": "ุงุณู ุงูููุชุฌ",
      "description": "ุงููุตู",
      "price": 99.99,
      "category": "ุงููุฆุฉ",
      "stock": 10,
      "tags": ["ูุณู1", "ูุณู2"],
      "ingredients": ["ูููู1", "ูููู2"]
    }
  ]
}
```

---

### 2. **Users API** ๐ฅ

| Method | Endpoint          | ุงููุตู                          |
| ------ | ----------------- | ------------------------------ |
| GET    | `/users`          | ุงูุญุตูู ุนูู ุฌููุน ุงููุณุชุฎุฏููู     |
| GET    | `/users/:id`      | ุงูุญุตูู ุนูู ุจูุงูุงุช ูุณุชุฎุฏู       |
| PUT    | `/users/:id`      | ุชุญุฏูุซ ุจูุงูุงุช ุงููุณุชุฎุฏู          |
| DELETE | `/users/:id`      | ุญุฐู ูุณุชุฎุฏู                     |
| POST   | `/users/register` | ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ              |
| POST   | `/users/login`    | ุชุณุฌูู ุงูุฏุฎูู                   |
| GET    | `/users/profile`  | ุงูุญุตูู ุนูู ููู ุงููุณุชุฎุฏู ุงูุญุงูู |

**ุตูุบุฉ ุงูุงุณุชุฌุงุจุฉ:**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "name": "ุงุณู ุงููุณุชุฎุฏู",
    "email": "email@example.com",
    "role": "admin"
  },
  "token": "jwt_token_here"
}
```

---

### 3. **Orders API** ๐

| Method | Endpoint       | ุงููุตู                            |
| ------ | -------------- | -------------------------------- |
| GET    | `/orders`      | ุงูุญุตูู ุนูู ุฌููุน ุงูุทูุจุงุช          |
| GET    | `/orders/:id`  | ุงูุญุตูู ุนูู ุทูุจ ูุญุฏุฏ              |
| POST   | `/orders`      | ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ                   |
| GET    | `/orders/user` | ุงูุญุตูู ุนูู ุทูุจุงุช ุงููุณุชุฎุฏู ุงูุญุงูู |

**ุตูุบุฉ ุงูุงุณุชุฌุงุจุฉ:**

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "userId": 1,
      "items": [
        {
          "productId": 1,
          "quantity": 2,
          "price": 99.99
        }
      ],
      "total": 199.98,
      "status": "completed",
      "createdAt": "2025-11-20"
    }
  ]
}
```

---

### 4. **Cart API** ๐

| Method | Endpoint         | ุงููุตู                       |
| ------ | ---------------- | --------------------------- |
| GET    | `/cart`          | ุงูุญุตูู ุนูู ุณูุฉ ุงููุณุชุฎุฏู     |
| POST   | `/cart/validate` | ุงูุชุญูู ูู ุตุญุฉ ุณูุฉ ุงููุดุชุฑูุงุช |

---

### 5. **Health Check** ๐ฅ

| Method | Endpoint  | ุงููุตู                 |
| ------ | --------- | --------------------- |
| GET    | `/health` | ุงูุชุญูู ูู ุญุงูุฉ ุงูุฎุงุฏู |

**ุงูุงุณุชุฌุงุจุฉ:**

```json
{
  "status": "ok",
  "timestamp": "2025-11-20T00:00:00Z"
}
```

---

## ๐ ุงููุตุงุฏูุฉ (Authentication)

### ุชููู ุงูุญูุงูุฉ (JWT):

ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญุ ุณูุญุตู ุงูุนููู ุนูู ุชููู:

```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "data": { "id": 1, "name": "Admin" }
}
```

### ุงุณุชุฎุฏุงู ุงูุชููู:

ุงูุชุทุจูู ูุญูุธ ุงูุชููู ุชููุงุฆูุงู ูู `localStorage` ููุฑุณูู ูุน ูู ุทูุจ:

```
Authorization: Bearer <token>
```

---

## ๐จ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุฃููุงุน ุงูุฃุฎุทุงุก ุงููุฏุนููุฉ:

1. **Response Error** (ุงูุฎุงุฏู ูุฑุฏ ุจุฑูุฒ ุฎุทุฃ):

```json
{
  "error": "ุฑุณุงูุฉ ุงูุฎุทุฃ ุจุงูุนุฑุจูุฉ",
  "code": 400
}
```

2. **Network Error** (ูุง ุชูุฌุฏ ุงุณุชุฌุงุจุฉ):

- ุงูุฑุณุงูุฉ: "ูู ูุชู ุงูุฑุฏ ูู ุงูุฎุงุฏู. ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช"

3. **Client Error**:

- ูุนุงูุฌุฉ ุชููุงุฆูุฉ ููุฃุฎุทุงุก ุบูุฑ ุงููุชููุนุฉ

---

## ๐ก CORS Configuration

ุชุฃูุฏ ูู ุชูููู CORS ูู ุงูุฎุงุฏู:

```javascript
// ูุซุงู ูู Express.js
app.use(
  cors({
    origin: "http://localhost:5173", // ุฃู URL ุงูุชุทุจูู
    credentials: true,
  })
);
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

### ุงุณุชุฎุฏุงู cURL:

```bash
# ุงุฎุชุจุงุฑ ุงูู Health Check
curl http://localhost:5000/api/health

# ุฌูุจ ุงูููุชุฌุงุช
curl http://localhost:5000/api/products

# ุฌูุจ ููุชุฌ ูุญุฏุฏ
curl http://localhost:5000/api/products/1

# ุงูุชุณุฌูู
curl -X POST http://localhost:5000/api/users/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@example.com","password":"password"}'
```

---

## ๐ Debug ูู Frontend

### ูุชุญ DevTools ูุงูุชุญูู ูู:

1. **Network Tab**:

   - ุงุฏุฎู ุฅูู Network
   - ูู ุจุฃู ุนูููุฉ (ูุซู ุฌูุจ ุงูููุชุฌุงุช)
   - ุชุญูู ูู ุฃู ุงูุทูุจ ูุฐูุจ ุฅูู `http://localhost:5000/api/...`
   - ุชุญูู ูู ุงูุงุณุชุฌุงุจุฉ ูุงูุญุงูุฉ (200, 400, 500, etc)

2. **Console Tab**:

   - ุงุจุญุซ ุนู ุฑุณุงุฆู ุงูุฎุทุฃ ุจุงูุนุฑุจูุฉ
   - ุชุญูู ูู ุฑุณุงุฆู `console.error`

3. **Storage Tab**:
   - ุงุฏุฎู ุฅูู Local Storage
   - ุชุญูู ูู ูุฌูุฏ `token` ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู

---

## ๐๏ธ ุชุดุฎูุต ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ: CORS Error

**ุงูุญู**: ุชุฃูุฏ ูู ุชูุนูู CORS ูู ุงูุฎุงุฏู

### ุงููุดููุฉ: 404 Not Found

**ุงูุญู**: ุชุญูู ูู ุฃู ุงูู endpoint ุตุญูุญ ูููุฌูุฏ ูู ุงูุฎุงุฏู

### ุงููุดููุฉ: 401 Unauthorized

**ุงูุญู**: ูุฏ ุชุญุชุงุฌ ุฅูู ุชููู ุตุญูุญ - ุญุงูู ุชุณุฌูู ุงูุฏุฎูู ูุฌุฏุฏุงู

### ุงููุดููุฉ: Network Error

**ุงูุญู**: ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู ุนูู `http://localhost:5000`

---

## ๐ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ูุชุบููุฑ URL ุงูุฎุงุฏูุ ุนุฏูู ููู `.env`:

```env
# ููุชุทููุฑ ุงููุญูู
VITE_API_BASE_URL=http://localhost:5000/api

# ููุฅูุชุงุฌ
VITE_API_BASE_URL=https://api.yourdomain.com/api
```

ุซู ุฃุนุฏ ุชุดุบูู ุณูุฑูุฑ ุงูุชุทููุฑ:

```bash
npm run dev
```
